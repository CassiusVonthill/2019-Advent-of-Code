defmodule Day16Test do
  use ExUnit.Case
  alias AdventOfCode2019.Day16

  @prompt 59_776_034_095_811_644_545_367_793_179_989_602_140_948_714_406_234_694_972_894_485_066_523_525_742_503_986_771_912_019_032_922_788_494_900_655_855_458_086_979_764_617_375_580_802_558_963_587_025_784_918_882_219_610_831_940_992_399_201_782_385_674_223_284_411_499_237_619_800_193_879_768_668_210_162_176_394_607_502_218_602_633_153_772_062_973_149_533_650_562_554_942_574_593_878_073_238_232_563_649_673_858_167_635_378_695_190_356_159_796_342_204_759_393_156_294_658_366_279_922_734_213_385_144_895_116_649_768_185_966_866_202_413_314_939_692_174_223_210_484_933_678_866_478_944_104_978_890_019_728_562_001_417_746_656_699_281_992_028_356_004_888_860_103_805_472_866_615_243_544_781_377_748_654_471_750_560_830_099_048_747_570_925_902_575_765_054_898_899_512_303_917_159_138_097_375_338_444_610_809_891_667_094_051_108_359_134_017_128_028_174_230_720_398_965_960_712
  @example1 12_345_678
  @example2 80_871_224_585_914_546_619_083_218_645_595
  @example3 19_617_804_207_202_209_144_916_044_189_917
  @example4 69_317_163_492_948_606_335_995_924_319_873

  test "example 1" do
    result =
      @example1
      |> Day16.load_data()
      |> Day16.part1(1)

    assert result == 48_226_158

    result =
      @example1
      |> Day16.load_data()
      |> Day16.part1(4)

    assert result == 01_029_498
  end

  test "pattern generator" do
    result =
      2
      |> Day16.pattern_generator()
      |> Enum.take(10)

    assert result == [0, 1, 1, 0, 0, -1, -1, 0, 0, 1]

    result =
      3
      |> Day16.pattern_generator()
      |> Enum.take(10)

    assert result == [0, 0, 1, 1, 1, 0, 0, 0, -1, -1]
  end

  test "part 1 other examples" do
    result =
      @example2
      |> Day16.load_data()
      |> Day16.part1()

    assert result == 24_176_176

    result =
      @example3
      |> Day16.load_data()
      |> Day16.part1()

    assert result == 73_745_418

    result =
      @example4
      |> Day16.load_data()
      |> Day16.part1()

    assert result == 52_432_133
  end

  test "part 1 challenge" do
    result =
      @prompt
      |> Day16.load_data()
      |> Day16.part1()

    assert result == 89_576_828
  end
end
